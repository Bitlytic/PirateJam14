[gd_scene load_steps=12 format=3 uid="uid://c04rjccfohxyl"]

[ext_resource type="Script" path="res://Scripts/Player.gd" id="1_yv7s0"]
[ext_resource type="Texture2D" uid="uid://dnsl7j05xt64n" path="res://Art/Cat.png" id="2_7csi1"]
[ext_resource type="Script" path="res://Scripts/FlippableShape.gd" id="2_mx4kt"]
[ext_resource type="Script" path="res://Scripts/HeldObject.gd" id="3_i7nv5"]
[ext_resource type="Script" path="res://Scripts/LightProbe.gd" id="6_4qvio"]
[ext_resource type="Script" path="res://Scripts/FlipController.gd" id="6_wlahb"]
[ext_resource type="Script" path="res://Scripts/Visibility.gd" id="7_a3plf"]
[ext_resource type="Script" path="res://Scripts/MovementController.gd" id="8_wu6qc"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_jm6xp"]
size = Vector2(12, 28)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_uw0gh"]
size = Vector2(28, 30)

[sub_resource type="PlaceholderTexture2D" id="PlaceholderTexture2D_epjnq"]

[node name="Player" type="CharacterBody2D" node_paths=PackedStringArray("visibility")]
collision_mask = 192
script = ExtResource("1_yv7s0")
visibility = NodePath("Visibility")

[node name="Floor Collision" type="CollisionShape2D" parent="."]
position = Vector2(0, 2)
shape = SubResource("RectangleShape2D_jm6xp")

[node name="Sprite" type="Sprite2D" parent="."]
texture = ExtResource("2_7csi1")

[node name="HeldObject" type="Node2D" parent="."]
position = Vector2(4, 2)
script = ExtResource("3_i7nv5")

[node name="PickupRange" type="Area2D" parent="."]
collision_layer = 0
collision_mask = 2

[node name="shape" type="CollisionShape2D" parent="PickupRange"]
position = Vector2(17, 2)
shape = SubResource("RectangleShape2D_uw0gh")
script = ExtResource("2_mx4kt")
left_position = Vector2(-11, 2)
right_position = Vector2(11, 2)

[node name="FlipController" type="Node2D" parent="." node_paths=PackedStringArray("nodes_to_flip")]
script = ExtResource("6_wlahb")
nodes_to_flip = [NodePath("../PickupRange/shape"), NodePath("../HeldObject")]

[node name="Visibility" type="Node2D" parent="."]
script = ExtResource("7_a3plf")

[node name="LightProbe" type="Node2D" parent="Visibility"]
position = Vector2(-6, -9)
script = ExtResource("6_4qvio")
draw_debug = true

[node name="Sprite2D" type="Sprite2D" parent="Visibility/LightProbe"]
scale = Vector2(2, 2)
texture = SubResource("PlaceholderTexture2D_epjnq")

[node name="LightProbe2" type="Node2D" parent="Visibility"]
position = Vector2(6, -9)
script = ExtResource("6_4qvio")
draw_debug = true

[node name="Sprite2D" type="Sprite2D" parent="Visibility/LightProbe2"]
scale = Vector2(2, 2)
texture = SubResource("PlaceholderTexture2D_epjnq")

[node name="LightProbe3" type="Node2D" parent="Visibility"]
position = Vector2(-6, 14)
script = ExtResource("6_4qvio")
draw_debug = true

[node name="Sprite2D" type="Sprite2D" parent="Visibility/LightProbe3"]
scale = Vector2(2, 2)
texture = SubResource("PlaceholderTexture2D_epjnq")

[node name="LightProbe4" type="Node2D" parent="Visibility"]
position = Vector2(6, 14)
script = ExtResource("6_4qvio")
draw_debug = true

[node name="Sprite2D" type="Sprite2D" parent="Visibility/LightProbe4"]
scale = Vector2(2, 2)
texture = SubResource("PlaceholderTexture2D_epjnq")

[node name="MovementController" type="Node2D" parent="."]
script = ExtResource("8_wu6qc")

[connection signal="body_entered" from="PickupRange" to="HeldObject" method="_on_pickup_range_body_entered"]
[connection signal="body_exited" from="PickupRange" to="HeldObject" method="_on_pickup_range_body_exited"]
